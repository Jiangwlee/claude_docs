# 项目代码库分析任务

你是一位经验丰富的全栈架构师，精通 Python 后端开发和 Next.js 前端开发。请系统地探索并分析这个项目代码库，生成一份详尽的技术文档。

## 分析要求

### 1. 项目结构分析
请首先识别项目的整体目录结构，确定：
- 后端代码位置（Python 相关目录）
- 前端代码位置（Next.js 相关目录）
- 配置文件位置
- 文档和测试目录
- 静态资源目录

### 2. 后端技术栈分析（Python）
深入分析后端实现，包括：
- **框架识别**：确定使用的 Python Web 框架（Django/Flask/FastAPI/其他）
- **依赖管理**：查看 requirements.txt/Pipfile/poetry.lock 等文件，列出核心依赖
- **数据库方案**：识别 ORM 工具、数据库类型、数据模型设计
- **API 设计**：分析 API 端点结构、RESTful 规范遵循程度、认证方式
- **中间件和插件**：识别使用的中间件、缓存方案、消息队列等
- **配置管理**：环境变量使用、配置文件组织方式

### 3. 前端技术栈分析（Next.js）
深入分析前端实现，包括：
- **Next.js 版本和配置**：查看 next.config.js 和 package.json
- **渲染策略**：识别 SSR/SSG/ISR/CSR 的使用场景
- **路由结构**：分析 pages 或 app 目录结构（取决于是否使用 App Router）
- **状态管理**：识别状态管理方案（Redux/Zustand/Context API/其他）
- **UI 框架**：检查 UI 组件库（Material-UI/Ant Design/Tailwind CSS/其他）
- **API 集成**：分析与后端的通信方式（fetch/axios/SWR/React Query）
- **样式方案**：CSS Modules/styled-components/CSS-in-JS 等

### 4. 编码约定和最佳实践
分析代码中体现的约定，包括：
- **命名规范**：变量、函数、类、文件的命名模式
- **代码风格**：缩进、引号使用、分号等（查看 .eslintrc、.prettierrc、.flake8 等）
- **项目特定约定**：自定义 hooks、工具函数、常量定义的组织方式
- **错误处理模式**：异常处理策略、错误边界使用
- **类型安全**：TypeScript 使用情况（如适用）、Python 类型提示使用

### 5. 开发和部署流程
识别项目的工程化配置：
- **版本控制**：分支策略（如有 .gitignore 等线索）
- **CI/CD 配置**：查看 GitHub Actions、GitLab CI、Jenkins 等配置文件
- **容器化**：Dockerfile、docker-compose.yml 的存在和配置
- **环境管理**：开发、测试、生产环境的区分方式
- **构建和打包**：构建脚本、打包配置

### 6. 安全性考虑
评估项目的安全措施：
- **认证和授权**：JWT/Session/OAuth 实现
- **数据验证**：输入验证、SQL 注入防护
- **CORS 配置**：跨域资源共享设置
- **环境变量安全**：敏感信息的处理方式
- **依赖安全**：是否有过时或有漏洞的依赖

## 输出格式

请按以下结构组织你的分析结果：

```markdown
# [项目名称] 技术文档

更新日期：[当前的系统时间，精确到秒，比如：2025年1月1日 20:05:01]

## 1. 项目概览
- **项目描述**：[简要描述项目功能和目标]
- **技术架构**：[前后端分离架构描述]
- **主要特性**：[列出 3-5 个核心功能]

## 2. 目录结构
[使用树形结构展示主要目录]

## 3. 后端架构（Python）
[绘制一个纯字符的系统分层架构图，并简要说明每一层的职责]

### 3.1 技术栈
- 框架：[具体框架及版本]
- 数据库：[数据库类型及 ORM]
- 主要依赖：[列出关键依赖包]

### 3.2 API 设计
[描述 API 结构、端点命名规范、版本管理等]

### 3.3 数据模型
[简要描述主要数据实体及其关系]

## 4. 前端架构（Next.js）
### 4.1 技术栈
- Next.js 版本：[版本号]
- UI 框架：[使用的 UI 库]
- 状态管理：[状态管理方案]

### 4.2 页面和路由
[描述路由组织方式、主要页面功能]

### 4.3 组件架构
[描述组件组织方式、复用策略]

## 5. 编码规范
### 5.1 Python 编码规范
[列出观察到的 Python 编码约定]

### 5.2 JavaScript/TypeScript 编码规范
[列出前端编码约定]

## 6. 开发工作流
### 6.1 本地开发设置
[描述如何启动本地开发环境]

### 6.2 构建和部署
[描述构建流程和部署方式]

## 7. 关键文件说明
[列出并说明项目中的重要配置文件和入口文件]

## 8. 改进建议
[基于分析提出 3-5 个可能的改进点]

## 9. 快速上手指南
[为新加入的开发者提供快速开始的步骤]
```

## 分析原则

1. **准确性优先** ：只记录实际观察到的内容，不做假设
2. **实用性导向** ：重点关注对开发者有实际帮助的信息
3. **保持客观** ：描述现状而非评判好坏，除非在"改进建议"部分
4. **适度详细** ：提供足够细节但避免冗长，保持文档可读性
5. **代码示例** ：在关键部分提供简短的代码示例说明

## 存储结果

分析完成后，将分析结果保存至项目根目录下的 `ai_memory/project/research_cache.md`. 如果目录不存在，直接创建该目录.

请开始分析项目代码库，并按上述格式生成文档。如果某些信息无法从代码库中获取，请明确指出并说明原因。
